"use strict";jQuery(function(o){var t=9,e=5242880,n=0,r={},a=function(o){return o.preventDefault(),o.stopPropagation(),!1},i=function(){var o=0;return function(){return++o}}(),c=function(){var t=o("div.droppable-area");t.on("dragenter",a),t.on("dragover",a),t.on("drop",function(o){a(o),o.originalEvent.dataTransfer.dropEffect="copy";for(var t=o.originalEvent.dataTransfer.files,e=0,n=t.length;n>e;++e)l(t[e]);return!1})},d=function(){var t=o(".images");t.on("mouseover","> .image-box",function(){o(this).find("> .control-box").stop().fadeIn("fast")}),t.on("mouseout","> .image-box",function(t){var e=o(t.relatedTarget);e.hasClass("control-box")||e.hasClass("control-box-control")||o(this).find("> .control-box").stop().fadeOut("fast")}),t.on("click",".control-box > button.upper",function(){var t=o(this).parent().parent();t.insertBefore(t.prev()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.downer",function(){var t=o(this).parent().parent();t.insertAfter(t.next()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.deleter",function(){var t=o(this).parent().parent();t.hide(function(){var e=t.find("img").attr("id");t.remove(),delete r[e],--n,0===n&&o(".droppable-area button.starter").hide()})})},s=function(){o("button.starter").click(function(){0!==n&&o(".image-container").fadeOut(function(){var t=o("#maximage");o(".images img").each(function(o,e){t.append(e)}),o("body").append('<iframe width="100%" height="450" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/147653855&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>'),t.maximage({cycleOptions:{speed:4e3,timeout:6850},onFirstImageLoaded:function(){t.fadeIn(2e3)}})})})},u=function(){o(document).on("dragenter",a),o(document).on("dragover",a),o(document).on("drop",a)},l=function(a){if(!(n>=t||0!=a.type.lastIndexOf("image/",0)||a.size>=e)){var c=new FileReader;o(c).on("load",function(t){var e=i(),c={controlBoxId:"controlBox_"+e,imageId:"image_"+e,fileName:a.name},d=o("#template").render(c);o(".images").append(d),o("#"+c.imageId).attr("src",t.target.result),o("#"+c.controlBoxId).find("*").addClass("control-box-control"),r[c.imageId]=a,++n,o(".droppable-area button.starter").show()}),c.readAsDataURL(a)}};c(),d(),s(),u()});