"use strict";jQuery(function(n){var t=function(){if(window.FileReader)return!1;var t=n(".droppable-area");return t.find("> *").each(function(t,o){var e=n(o);e.hasClass("logo")||e.hide()}),t.find("> .sorry").show(),!0};if(!t()){var o=9,e=5242880,i=0,r={},a=function(){var t=n("#indicator-container");return function(){t.show(),t.activity()}}(),c=function(){var t=n("#indicator-container");return function(){t.hide(),t.activity(!1)}}(),f=function(n){return n.preventDefault(),n.stopPropagation(),!1},d=function(){var n=0;return function(){return++n}}(),u=function(){n('input[type="file"]').change(function(n){s(n.target.files)})},l=function(){var t=n("div.droppable-area");t.on("dragenter",f),t.on("dragover",f),t.on("drop",function(n){f(n),n.originalEvent.dataTransfer.dropEffect="copy",s(n.originalEvent.dataTransfer.files)})},s=function(n){a();for(var t=0,o=n.length;o>t;++t)h(n[t])},p=function(){var t=n(".images");t.on("mouseover","> .image-box",function(){n(this).find("> .control-box").stop().fadeIn("fast")}),t.on("mouseout","> .image-box",function(t){var o=n(t.relatedTarget);o.hasClass("control-box")||o.hasClass("control-box-control")||n(this).find("> .control-box").stop().fadeOut("fast")}),t.on("click",".control-box > button.upper",function(){var t=n(this).parent().parent();t.insertBefore(t.prev()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.downer",function(){var t=n(this).parent().parent();t.insertAfter(t.next()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.deleter",function(){var t=n(this).parent().parent();t.hide(function(){var o=t.find("img").attr("id");t.remove(),delete r[o],--i,0===i&&n(".droppable-area button.starter").hide()})})},m=function(){n("button.starter").click(function(){0!==i&&n(".image-container").fadeOut(function(){x(),w(),n("#control-box-in-slideshowing").find("> button.newer, > button.saver").fadeIn(1e3)})})},v=function(){var t=n("#control-box-in-slideshowing");t.find("> button.newer").click(function(){location.reload()}),t.find("> button.saver").click(function(){alert("will implement...")}),t.find("> button.selecter").click(function(){alert("will implement...")})},b=function(){n(document).on("dragenter",f),n(document).on("dragover",f),n(document).on("drop",f)},g=0,h=function(t){if(!(i>=o||0!=t.type.lastIndexOf("image/",0)||t.size>=e)){var f=new FileReader;n(f).on("load",function(o){var e=d(),a={controlBoxId:"controlBox_"+e,imageId:"image_"+e,fileName:t.name},f=n("#template").render(a);n(".images").append(f),n("#"+a.imageId).attr("src",o.target.result),n("#"+a.controlBoxId).find("*").addClass("control-box-control"),r[a.imageId]=t,++i,n(".droppable-area button.starter").show(),--g,0===g&&c()}),f.readAsDataURL(t),++g,a()}},x=function(){var n;SC.initialize({client_id:"c6ae25b0cafe3d32bce74d317ea49aa2",redirect_uri:"http://example.com/callback.html"}),SC.stream("/tracks/147653855",{autoPlay:!0,onfinish:function(){n.play()}},function(t){n=t})},w=function(){var t=n("#maximage");n(".images img").each(function(n,o){t.append(o)}),t.maximage({cycleOptions:{speed:4e3,timeout:6850},onFirstImageLoaded:function(){t.fadeIn(2e3)}})};u(),l(),p(),m(),v(),b()}});