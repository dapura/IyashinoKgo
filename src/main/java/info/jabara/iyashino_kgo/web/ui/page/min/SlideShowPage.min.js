"use strict";jQuery(function(n){var t=9,o=5242880,e=0,a={},r=function(n){return n.preventDefault(),n.stopPropagation(),!1},i=function(){var n=0;return function(){return++n}}(),c=function(){var t=n("div.droppable-area");t.on("dragenter",r),t.on("dragover",r),t.on("drop",function(n){r(n),n.originalEvent.dataTransfer.dropEffect="copy";for(var t=n.originalEvent.dataTransfer.files,o=0,e=t.length;e>o;++o)s(t[o]);return!1})},l=function(){var t=n(".images");t.on("mouseover","> .image-box",function(){n(this).find("> .control-box").stop().fadeIn("fast")}),t.on("mouseout","> .image-box",function(t){var o=n(t.relatedTarget);o.hasClass("control-box")||o.hasClass("control-box-control")||n(this).find("> .control-box").stop().fadeOut("fast")}),t.on("click",".control-box > button.upper",function(){var t=n(this).parent().parent();t.insertBefore(t.prev()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.downer",function(){var t=n(this).parent().parent();t.insertAfter(t.next()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.deleter",function(){var t=n(this).parent().parent();t.hide(function(){var o=t.find("img").attr("id");t.remove(),delete a[o],--e,0===e&&n(".droppable-area button.starter").hide()})})},d=function(){n("button.starter").click(function(){0!==e&&n(".image-container").fadeOut(function(){p(),m(),n("#control-box-in-slideshowing").find("> button.newer, > button.saver").fadeIn(1e3)})})},f=function(){var t=n("#control-box-in-slideshowing");t.find("> button.newer").click(function(){location.reload()}),t.find("> button.saver").click(function(){alert("will implement...")}),t.find("> button.selecter").click(function(){alert("will implement...")})},u=function(){n(document).on("dragenter",r),n(document).on("dragover",r),n(document).on("drop",r)},s=function(r){if(!(e>=t||0!=r.type.lastIndexOf("image/",0)||r.size>=o)){var c=new FileReader;n(c).on("load",function(t){var o=i(),c={controlBoxId:"controlBox_"+o,imageId:"image_"+o,fileName:r.name},l=n("#template").render(c);n(".images").append(l),n("#"+c.imageId).attr("src",t.target.result),n("#"+c.controlBoxId).find("*").addClass("control-box-control"),a[c.imageId]=r,++e,n(".droppable-area button.starter").show()}),c.readAsDataURL(r)}},p=function(){var n;SC.initialize({client_id:"c6ae25b0cafe3d32bce74d317ea49aa2",redirect_uri:"http://example.com/callback.html"}),SC.stream("/tracks/147653855",{autoPlay:!0,onfinish:function(){n.play()}},function(t){n=t})},m=function(){var t=n("#maximage");n(".images img").each(function(n,o){t.append(o)}),t.maximage({cycleOptions:{speed:4e3,timeout:6850},onFirstImageLoaded:function(){t.fadeIn(2e3)}})};c(),l(),d(),f(),u()});