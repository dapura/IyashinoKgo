"use strict";jQuery(function(n){var t=9,o=5242880,e=0,i={},a=function(){var t=n("#indicator-container");return function(){t.show(),t.activity()}}(),r=function(){var t=n("#indicator-container");return function(){t.hide(),t.activity(!1)}}(),c=function(n){return n.preventDefault(),n.stopPropagation(),!1},f=function(){var n=0;return function(){return++n}}(),u=function(){n('input[type="file"]').change(function(n){d(n.target.files)})},l=function(){var t=n("div.droppable-area");t.on("dragenter",c),t.on("dragover",c),t.on("drop",function(n){c(n),n.originalEvent.dataTransfer.dropEffect="copy",d(n.originalEvent.dataTransfer.files)})},d=function(n){a();for(var t=0,o=n.length;o>t;++t)v(n[t])},s=function(){var t=n(".images");t.on("mouseover","> .image-box",function(){n(this).find("> .control-box").stop().fadeIn("fast")}),t.on("mouseout","> .image-box",function(t){var o=n(t.relatedTarget);o.hasClass("control-box")||o.hasClass("control-box-control")||n(this).find("> .control-box").stop().fadeOut("fast")}),t.on("click",".control-box > button.upper",function(){var t=n(this).parent().parent();t.insertBefore(t.prev()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.downer",function(){var t=n(this).parent().parent();t.insertAfter(t.next()),t.find("> .control-box").hide()}),t.on("click",".control-box > button.deleter",function(){var t=n(this).parent().parent();t.hide(function(){var o=t.find("img").attr("id");t.remove(),delete i[o],--e,0===e&&n(".droppable-area button.starter").hide()})})},p=function(){n("button.starter").click(function(){0!==e&&n(".image-container").fadeOut(function(){h(),x(),n("#control-box-in-slideshowing").find("> button.newer, > button.saver").fadeIn(1e3)})})},m=function(){var t=n("#control-box-in-slideshowing");t.find("> button.newer").click(function(){location.reload()}),t.find("> button.saver").click(function(){alert("will implement...")}),t.find("> button.selecter").click(function(){alert("will implement...")})},b=function(){n(document).on("dragenter",c),n(document).on("dragover",c),n(document).on("drop",c)},g=0,v=function(c){if(!(e>=t||0!=c.type.lastIndexOf("image/",0)||c.size>=o)){var u=new FileReader;n(u).on("load",function(t){var o=f(),a={controlBoxId:"controlBox_"+o,imageId:"image_"+o,fileName:c.name},u=n("#template").render(a);n(".images").append(u),n("#"+a.imageId).attr("src",t.target.result),n("#"+a.controlBoxId).find("*").addClass("control-box-control"),i[a.imageId]=c,++e,n(".droppable-area button.starter").show(),--g,0===g&&r()}),u.readAsDataURL(c),++g,a()}},h=function(){var n;SC.initialize({client_id:"c6ae25b0cafe3d32bce74d317ea49aa2",redirect_uri:"http://example.com/callback.html"}),SC.stream("/tracks/147653855",{autoPlay:!0,onfinish:function(){n.play()}},function(t){n=t})},x=function(){var t=n("#maximage");n(".images img").each(function(n,o){t.append(o)}),t.maximage({cycleOptions:{speed:4e3,timeout:6850},onFirstImageLoaded:function(){t.fadeIn(2e3)}})};u(),l(),s(),p(),m(),b()});